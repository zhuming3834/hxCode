webpackJsonp([14],{"+aXh":function(t,s){},DKds:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var o=i("mvHQ"),e=i.n(o),n={name:"coupon",data:function(){return{couponHeader_L:"couponHeader_left active",couponHeader_R:"couponHeader_right",isCan:0,couponList:[],type:0,price:""}},activated:function(){this.type=this.$route.query.type||0,this.price=this.$route.query.price||0,this.getCouponData()},methods:{getCouponData:function(){var t=this;this.$axios.get("/user/userInfo/findUserCoupon.do",{params:{couponState:t.isCan}}).then(function(s){0==s.data.ret_code?(t.couponList=s.data.ret_data,t.couponList=[]):weui.toast(s.data.ret_msg)}).catch(function(t){weui.toast("网路链接失败")})},canUserClick:function(){this.couponHeader_L="couponHeader_left active",this.couponHeader_R="couponHeader_right",this.isCan=0,this.getCouponData()},canNotUserClick:function(){this.couponHeader_L="couponHeader_left",this.couponHeader_R="couponHeader_right active",this.isCan=2,this.getCouponData()},goHomeClick:function(t){if(1==this.type){for(var s=this.couponList.length,i={},o=0;o<s;o++)if(this.couponList[o].couponId==t){if(this.price<parseInt(this.couponList[o].conditions))return void weui.toast("不满足使用条件");i=this.couponList[o],localStorage.setItem("conpouItem",e()(i)),window.history.back()}}else this.$router.push("/home")},exchangeBtnClick:function(){this.$router.push("/exchange")}}},a={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"coupon"},[i("div",{staticClass:"couponHeader"},[i("div",{class:t.couponHeader_L,on:{click:t.canUserClick}},[t._v("可使用")]),t._v(" "),i("div",{class:t.couponHeader_R,on:{click:t.canNotUserClick}},[t._v("已失效")])]),t._v(" "),0==t.isCan?i("div",{staticClass:"couponList"},t._l(t.couponList,function(s){return t.couponList.length>0?i("div",{key:s.couponId,staticClass:"couponItem"},[i("div",{staticClass:"top"},[i("div",{staticClass:"couponItemLeft"},[i("div",{staticClass:"manUse"},[i("span",[t._v("￥")]),t._v(t._s(s.couponAmount))]),t._v(" "),i("div",{staticClass:"man"},[t._v("满"+t._s(s.conditions)+"元可用")])]),t._v(" "),i("div",{staticClass:"couponItemRight"},[i("div",{staticClass:"title"},[t._v(t._s(s.couponName))]),t._v(" "),i("div",{staticClass:"time"},[t._v(t._s(s.startTime.split(" ")[0])+" - "+t._s(s.endTime.split(" ")[0]))]),t._v(" "),i("div",{staticClass:"btn",on:{click:function(i){t.goHomeClick(s.couponId)}}},[t._v("立即使用")])])]),t._v(" "),i("div",{staticClass:"bottom"},[t._v(t._s(s.describ))])]):t._e()})):i("div",{staticClass:"couponList"},t._l(t.couponList,function(s){return t.couponList.length>0?i("div",{key:s,staticClass:"couponItem nocan"},[i("div",{staticClass:"top"},[i("div",{staticClass:"couponItemLeft"},[i("div",{staticClass:"manUse"},[i("span",[t._v("￥")]),t._v(t._s(s.couponAmount))]),t._v(" "),i("div",{staticClass:"man"},[t._v("满"+t._s(s.conditions)+"元可用")])]),t._v(" "),i("div",{staticClass:"couponItemRight"},[i("div",{staticClass:"title"},[t._v(t._s(s.couponName))]),t._v(" "),i("div",{staticClass:"time"},[t._v(t._s(s.startTime.split(" ")[0])+" - "+t._s(s.endTime.split(" ")[0]))])])]),t._v(" "),i("div",{staticClass:"bottom"},[t._v(t._s(s.describ))])]):t._e()})),t._v(" "),i("div",{staticClass:"exchange",on:{click:t.exchangeBtnClick}},[t._v("兑换")])])},staticRenderFns:[]};var c=i("VU/8")(n,a,!1,function(t){i("+aXh")},"data-v-02ccdba3",null);s.default=c.exports}});
//# sourceMappingURL=14.929161cb4668b3d3af6b.js.map